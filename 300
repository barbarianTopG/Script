local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local keyRequired = "YourSecretKeyHereForYou" -- Change this to your actual key
local scriptURLs = {
    [18209375211] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/FireTouchIntrest%20Universal",  -- Game 1
    [14518422161] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/Hitbox%20Gunfight%20Arena",  -- Game 2
    [155615604] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/Prison%20Life",  -- Game 3
    [76455837887178] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/Dig%20it(Auto-Dig%20%2B%20more%20coming)",  -- Game 4
    [7920018625] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/Nuke%20Tycoon%20Nuclear",  -- Game 5
    [15694891095] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/TheOneV1",  -- Game 6
    [106266102947071] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/ALL",  -- DAY OF INFAMY D-DAY
    [15948669967] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/ALL",  -- TNB Shootout in Baixada Brazil
    [77074973013032] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/ALL",  -- Zamora, Michoacan
    [17333357466] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/ALL",  -- Nuevo Laredo, Tamaulipas
    [8233004585] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/ALL",  -- Syrian Shenanigans [B1]
    [11638805019] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/ALL",  -- Colombia
    [15599178512] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/ALL",  -- West Chicago
    [16291041162] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/ALL",  -- Zeus FPS - Troca de Tiro RJ
}

local defaultScriptURL = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/Default"
local gameId = game.PlaceId
local scriptToLoad = scriptURLs[gameId] or defaultScriptURL

-- GitHub Gist Key Validation Function
local function checkKeyGithub(key)
    local gistUrl = "https://gist.githubusercontent.com/checkurasshole/891575fe2df900dd1d18112435fa25bc/raw/6fd830f0c03d8de31f3e45dd891b19503a0c2ecc/Key%2520Validation%2520JSON"  -- Replace with your GitHub Gist Raw URL
    
    local keyData = game:HttpGet(gistUrl)
    local data = game:GetService("HttpService"):JSONDecode(keyData)
    
    if data.keys[key] then
        local keyInfo = data.keys[key]
        local expiresAt = os.time({year = tonumber(keyInfo.expires:sub(1, 4)), month = tonumber(keyInfo.expires:sub(6, 7)), day = tonumber(keyInfo.expires:sub(9, 10)), hour = tonumber(keyInfo.expires:sub(12, 13)), min = tonumber(keyInfo.expires:sub(15, 16)), sec = tonumber(keyInfo.expires:sub(18, 19))})
        local currentTime = os.time()
        
        if expiresAt > currentTime then
            return true, "Key is valid for " .. math.floor((expiresAt - currentTime) / 3600) .. " hours."
        else
            return false, "Key has expired."
        end
    else
        return false, "Invalid key."
    end
end

-- GUI Setup
local Window = Rayfield:CreateWindow({
    Name = "ComboChronicle Vault | Game Loader",
    LoadingTitle = "Loading ComboChronicle Vault ‚ùñ",
    LoadingSubtitle = "By COMBO_WICK | Bang.E.Line",
    Theme = "Ocean"
})

-- Key and Credits Tab
local KeyTab = Window:CreateTab("Key & Credits", 4483362458)

KeyTab:CreateInput({
    Name = "Enter Key",
    PlaceholderText = "Type the key here...",
    RemoveTextAfterFocusLost = false,
    Callback = function(input)
        local isValid, message = checkKeyGithub(input)
        
        if isValid then
            Rayfield:Destroy() -- Close the GUI
            print("Loading script for game ID: " .. tostring(gameId))
            
            if gameId == 5223287266 then -- Phoenix Grounds (Loads Two Scripts)
                print("Loading multiple scripts for Phoenix Grounds")
                local success1, err1 = pcall(function()
                    loadstring(game:HttpGet("https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/Phoenix%20Grounds"))()
                end)
                if not success1 then warn("Error loading first script: " .. err1) end
                
                local success2, err2 = pcall(function()
                    loadstring(game:HttpGet("https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/Teleport%20Behind%20Player"))()
                end)
                if not success2 then warn("Error loading second script: " .. err2) end
            else
                print("Script URL: " .. scriptToLoad)
                local success, err = pcall(function()
                    loadstring(game:HttpGet(scriptToLoad))()
                end)
                if not success then warn("Error loading script: " .. err) end
            end
        else
            Rayfield:Notify({
                Title = "‚ùå Incorrect Key",
                Content = message,
                Duration = 5,
                Image = 4483362458
            })
        end
    end
})

KeyTab:CreateButton({
    Name = "üìã Copy Discord Link/YouTube",
    Callback = function()
        local links = "Discord: discord.com/invite/mwTHaCKzhw\nYouTube: https://www.youtube.com/@COMBO_WICK"
        setclipboard(links)
        Rayfield:Notify({
            Title = "‚úÖ Links Copied",
            Content = "Discord and YouTube links have been copied to your clipboard!",
            Duration = 5,
            Image = 4483362458
        })
    end,
})
