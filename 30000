local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local specialAdmins = {"COMBO_WICK", "yejduhvttjdruf"}  -- Replace with your admin usernames
local defaultKey = "YourDefaultKeyHere"  -- Change this to your default key
local randomizedKey = defaultKey  -- Starting value for the key

-- Function to generate a random key (you can adjust the key length)
local function generateRandomKey()
    local chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"
    local key = ""
    for i = 1, 16 do
        key = key .. chars:sub(math.random(1, #chars), math.random(1, #chars))
    end
    return key
end

-- Periodically update the randomized key every 1 minute
local function updateRandomKey()
    while true do
        wait(60)  -- Wait for 1 minute (60 seconds)
        randomizedKey = generateRandomKey()  -- Generate a new random key for everyone
        print("New randomized key for everyone: " .. randomizedKey)  -- Log the new key (for admins)
    end
end

-- Start the random key updater in the background
spawn(updateRandomKey)

-- GUI Setup
local Window = Rayfield:CreateWindow({
    Name = "ComboChronicle Vault | Game Loader",
    LoadingTitle = "Loading ComboChronicle Vault ‚ùñ",
    LoadingSubtitle = "By COMBO_WICK | Bang.E.Line",
    Theme = "Ocean"
})

-- Key and Credits Tab
local KeyTab = Window:CreateTab("Key & Credits", 4483362458)

KeyTab:CreateInput({
    Name = "Enter Key",
    PlaceholderText = "Type the key here...",
    RemoveTextAfterFocusLost = false,
    Callback = function(input)
        local username = game.Players.LocalPlayer.Name  -- Get the username of the player
        
        -- Check if the player is an admin or if the entered key matches the randomized key
        if table.find(specialAdmins, username) then
            print("Admin login successful: " .. username)
            Rayfield:Destroy() -- Close the GUI
            -- Proceed to load the script for admins
            print("Admin access granted for: " .. username)
            
            -- You can load the admin scripts here or perform any admin-specific tasks
            -- For example:
            -- local success, err = pcall(function()
            --     loadstring(game:HttpGet("AdminScriptURL"))()
            -- end)
            -- if not success then warn("Error loading admin script: " .. err) end
            
        elseif input == randomizedKey then
            Rayfield:Destroy() -- Close the GUI
            print("Key matched. Loading script for game ID: " .. tostring(game.PlaceId))
            
            -- Load the correct script based on game ID
            local scriptURLs = {
                [18209375211] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/FireTouchIntrest%20Universal",  -- Game 1
                [14518422161] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/Hitbox%20Gunfight%20Arena",  -- Game 2
                [155615604] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/Prison%20Life",  -- Game 3
                [76455837887178] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/Dig%20it(Auto-Dig%20%2B%20more%20coming)",  -- Game 4
                [7920018625] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/Nuke%20Tycoon%20Nuclear",  -- Game 5
                [15694891095] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/TheOneV1",  -- Game 6
                [106266102947071] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/ALL",  -- DAY OF INFAMY D-DAY
                [15948669967] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/ALL",  -- TNB Shootout in Baixada Brazil
                [77074973013032] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/ALL",  -- Zamora, Michoacan
                [17333357466] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/ALL",  -- Nuevo Laredo, Tamaulipas
                [8233004585] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/ALL",  -- Syrian Shenanigans [B1]
                [11638805019] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/ALL",  -- Colombia
                [15599178512] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/ALL",  -- West Chicago
                [16291041162] = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/ALL",  -- Zeus FPS - Troca de Tiro RJ
            }
            
            local defaultScriptURL = "https://raw.githubusercontent.com/checkurasshole/Script/refs/heads/main/Default"
            local gameId = game.PlaceId
            local scriptToLoad = scriptURLs[gameId] or defaultScriptURL
            
            -- Proceed to load the script for non-admins
            local success, err = pcall(function()
                loadstring(game:HttpGet(scriptToLoad))()
            end)
            if not success then warn("Error loading script: " .. err) end
        else
            Rayfield:Notify({
                Title = "‚ùå Incorrect Key",
                Content = "Join the Discord to get the correct key!",
                Duration = 5,
                Image = 4483362458
            })
        end
    end
})

-- Button for copying Discord/YouTube link
KeyTab:CreateButton({
    Name = "üìã Copy Discord Link/YouTube",
    Callback = function()
        local links = "Discord: discord.com/invite/mwTHaCKzhw\nYouTube: https://www.youtube.com/@COMBO_WICK"
        setclipboard(links)
        Rayfield:Notify({
            Title = "‚úÖ Links Copied",
            Content = "Discord and YouTube links have been copied to your clipboard!",
            Duration = 5,
            Image = 4483362458
        })
    end,
})

